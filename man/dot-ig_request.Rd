% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/igfetchr.R
\name{.ig_request}
\alias{.ig_request}
\title{Internal function to make IG API requests}
\usage{
.ig_request(
  path,
  auth,
  method = c("GET", "POST", "DELETE"),
  query = list(),
  body = NULL,
  mock_response = NULL
)
}
\arguments{
\item{path}{Character. API endpoint path (e.g., "/accounts").}

\item{auth}{List. Authentication details from `ig_auth()`, including `cst`, `security`, `base_url`, `api_key`, and `acc_number`.}

\item{method}{Character. HTTP method ("GET", "POST", or "DELETE"). Defaults to "GET".}

\item{query}{List. Optional query parameters for GET requests.}

\item{body}{List. Optional request body for POST requests.}

\item{mock_response}{List or data frame. Optional mock response for testing.}
}
\value{
A tibble containing the API response data, or a tibble with a single column
containing the raw JSON response if the response cannot be converted to a data frame.
}
\description{
Makes HTTP requests to the IG API using authentication details from `ig_auth()`.
Handles GET, POST, and DELETE methods and processes JSON responses into tibbles.
Not intended for direct use; called by higher-level functions like `ig_get_accounts()`.
}
\keyword{internal}
