% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/igfetchr.R
\name{ig_get_historical}
\alias{ig_get_historical}
\title{Get historical prices}
\usage{
ig_get_historical(
  epic,
  from = NULL,
  to = NULL,
  resolution = "D",
  auth,
  mock_response = NULL
)
}
\arguments{
\item{epic}{Character. Market epic (e.g., "CS.D.USDCHF.CFD.IP").}

\item{from}{Character or Date. Start datetime or date (e.g., "2020-01-01"). Optional.}

\item{to}{Character or Date. End datetime or date (e.g., "2020-12-31"). Optional.}

\item{resolution}{Character. Resolution code (e.g., "D" for daily, "H" for hourly). Defaults to "D".}

\item{auth}{List. Authentication details from `ig_auth()`, including `cst`, `security`, `base_url`, `api_key`, and `acc_number`.}

\item{mock_response}{List or data frame. Optional mock response for testing, bypassing the API call.}
}
\value{
A tibble with historical OHLC data, including columns like `snapshotTime`, `openPrice`, `highPrice`, `lowPrice`, `closePrice`, and others as returned by the IG API `/prices/\{epic\}` endpoint.
}
\description{
Fetches historical prices for a market epic between specified dates at a given resolution.
}
\examples{
\dontrun{
# Authenticate and get historical prices
auth <- ig_auth(
  username = "your_username",
  password = "your_password",
  api_key = "your_api_key",
  acc_type = "DEMO",
  acc_number = "ABC123"
)
hist <- ig_get_historical("CS.D.USDCHF.CFD.IP", "2020-01-01", "2020-12-31", "D", auth)
print(hist)

# Using mock response for testing
mock_response <- data.frame(
  snapshotTime = "2020/01/01 00:00:00",
  openPrice = 0.970,
  highPrice = 0.975,
  lowPrice = 0.965,
  closePrice = 0.971
)
hist <- ig_get_historical("CS.D.USDCHF.CFD.IP", 
  "2020-01-01", 
  "2020-12-31",
  "D", 
  auth, 
  mock_response = mock_response)
}

}
